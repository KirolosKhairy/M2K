# M2K — доказательства и скрипты (DVWA, team07)

В этом репозитории публикуется часть собранных артефактов и утилит, использованных при тестировании обхода WAF на стенде DVWA (security=low).  
**Важно:** это **не полный набор всех результатов** — здесь вы найдёте ключевые файлы, удобные для быстрой проверки и воспроизведения основных шагов.

---

## Содержание репозитория (краткое пояснение)

- **`evidence_xss.zip`**  
  Архив с доказательствами XSS-тестов: сохранённые HTML-ответы (`resp.html`), заголовки (`resp.headers`) и сводный CSV (`results_xss.csv`).

- **`evidence_all.zip`**  
  Сборный архив, содержащий часть артефактов по различным проверкам (XSS / SQLi). Подходит для быстрой загрузки и предварительного анализа.

- **`evidence_all_20251001_2235.zip`**  
  Снимок состояния (snapshot) артефактов на момент `2025-10-01 22:35` — полезен для воспроизводимости и аудита.

- **`results_new.csv`**  
  Обновлённый CSV с результатами ручного тестирования (подробности по каждому запуску, временные метрики, примечания).

- **`results_obf.csv`**  
  CSV-сводка результатов автоматического прогона обфусцированных SQL-payload'ов (метод обфускации, HTTP-статус, маркеры успеха и т.д.).

- **`run_sql_obf_v2.sh`**  
  Bash-скрипт для автоматизации: генерация вариаций обфусцированных SQL-payload'ов, отправка запросов к `/vulnerabilities/sqli/`, сбор ответов и формирование `results_obf.csv`.  
  **Внимание:** перед запуском убедитесь, что вы используете скрипт только в авторизованной тестовой среде.

---

## Краткое содержание выполненной работы

- Тесты выполнялись через **SSH** и через **RDP** с использованием браузера, а также с помощью **Burp Suite** (Proxy / Intruder / Repeater).  
- Вручную протестировано >40 полезных payload'ов (XSS и SQLi) и дополнительно автоматизированный прогон обфусцированных вариантов.  
- Собраны и сохранены результаты из нескольких источников: HTTP-коды (200, 302, 400, 500), тела ответов, заголовки, HAR-файлы, CSV-отчёты и скриншоты.  
- Для каждого значимого срабатывания сохранены доказательства: `resp.html`, `resp.headers`, метаданные запроса и строка с маркерами успеха (например, `marker(data_reflected)` / `INJECTION_OK` / `timing >= 4s`).

---

## Как воспроизвести (короткая инструкция)

> Предполагается, что вы имеете авторизацию и доступ к тестовой VM (DVWA, security=low).

1. **Подготовка**
   - Убедитесь, что у вас есть доступ к тестовой VM и действующая сессия (логин в DVWA).
   - Установите `curl`, `zip` и `git` (если планируете пушить результаты в репозиторий).

2. **Воспроизведение ручного примера**
   - Откройте `http://<dvwa-host>/vulnerabilities/sqli/`.
   - Подставьте интересующий payload в параметр `id` или в форму `User ID` и нажмите **Submit**.
   - Сохраните `resp.html` и `resp.headers` для доказательства.

3. **Воспроизведение автоматизированного прогона**
   - Просмотрите `run_sql_obf_v2.sh`, проверьте и при необходимости настройте переменные (COOKIES, DVWA_BASE, путь к wordlist).  
   - Запустите скрипт только в авторизованной тестовой среде:  
     ```bash
     chmod +x run_sql_obf_v2.sh
     ./run_sql_obf_v2.sh /path/to/outdir /path/to/wordlist.txt
     ```
   - По окончании проверьте `results_obf.csv` и содержимое `outdir/payload_*` для доказательств.

---

## Формат доказательств в архиве

Каждая попытка (payload) хранится в отдельной папке:
